"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PluginListener = void 0;
const framework_1 = require("@sapphire/framework");
class PluginListener extends framework_1.Listener {
    constructor(context) {
        super(context, { event: framework_1.Events.MessageUpdate });
    }
    run(old, message) {
        // If the contents of both messages are the same, return:
        if (old.content === message.content)
            return;
        // If the message was sent by a webhook, return:
        if (message.webhookId !== null)
            return;
        // If the message was sent by the Discord system, return:
        if (message.system)
            return;
        // If the message was sent by a bot, return:
        if (message.author.bot)
            return;
        // Run the message parser.
        this.container.client.emit(framework_1.Events.PreMessageParsed, message);
    }
}
exports.PluginListener = PluginListener;
//# sourceMappingURL=pluginMessageUpdate.js.map